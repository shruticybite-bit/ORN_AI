import{r as l,b as p,j as a,F as m,a as e,k as x,y}from"./index-32628024.js";import{N as g,F as N}from"./Footer-eb4192e7.js";import"./createLucideIcon-9ff08989.js";const f="",S=()=>{const[c,i]=l.useState([]),[d,o]=l.useState(!1),r=localStorage.getItem("jwt-auth")||localStorage.getItem("access")||localStorage.getItem("token")||"",n=(t,s="info")=>{y[s](t,{position:"top-center",autoClose:3e3})};l.useEffect(()=>{if(!r){n("Session expired. Please login.","error");return}h()},[r]);const h=async()=>{o(!0);try{const t=await p.get(`${f}/users/subscriptions/`,{headers:{Authorization:`Bearer ${r}`}});i(t.data||[])}catch(t){console.error("Error fetching wallet history:",t),n("Failed to fetch wallet history.","error")}finally{o(!1)}};return a(m,{children:[e(g,{}),a("div",{className:"min-h-screen p-6 bg-gray-900 text-white",children:[e(x,{}),e("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Wallet / Subscription History"}),d?e("p",{className:"text-center",children:"Loading..."}):c.length===0?e("p",{className:"text-center text-gray-400",children:"No transactions found."}):e("div",{className:"overflow-x-auto",children:a("table",{className:"min-w-full bg-gray-800 rounded-xl overflow-hidden",children:[e("thead",{className:"bg-gray-700",children:a("tr",{children:[e("th",{className:"px-4 py-2 text-left",children:"Plan Name"}),e("th",{className:"px-4 py-2 text-left",children:"Amount Paid"}),e("th",{className:"px-4 py-2 text-left",children:"Billing Cycle"}),e("th",{className:"px-4 py-2 text-left",children:"Created At"}),e("th",{className:"px-4 py-2 text-left",children:"Expires At"})]})}),e("tbody",{children:c.map((t,s)=>a("tr",{className:"border-b border-gray-700 hover:bg-gray-700 transition",children:[e("td",{className:"px-4 py-2",children:t.name||"N/A"}),a("td",{className:"px-4 py-2",children:["â‚¹",t.price||"N/A"]}),e("td",{className:"px-4 py-2",children:t.billing_cycle||"N/A"}),e("td",{className:"px-4 py-2",children:t.created_at?new Date(t.created_at).toLocaleString():"N/A"}),e("td",{className:"px-4 py-2",children:t.expires_at?new Date(t.expires_at).toLocaleString():"N/A"})]},s))})]})})]}),e(N,{})]})};export{S as default};
