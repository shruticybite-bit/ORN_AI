import{r as u,j as d,F as y,a as e,y as c,b as x}from"./index-32628024.js";import{N as _,F as N}from"./Footer-eb4192e7.js";import"./createLucideIcon-9ff08989.js";const S=()=>{const[r,g]=u.useState({new_password1:"",new_password2:""}),[s,l]=u.useState({}),[w,m]=u.useState(!1),f=a=>{const n=`; ${document.cookie}`.split(`; ${a}=`);return n.length===2?n.pop().split(";").shift():null},h=a=>{g({...r,[a.target.name]:a.target.value}),l({...s,[a.target.name]:""})};return d(y,{children:[e(_,{}),e("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-24 px-4",children:d("div",{className:"max-w-md mx-auto bg-gray-900/70 backdrop-blur-md p-8 rounded-2xl shadow-lg border border-gray-700",children:[e("h2",{className:"text-3xl font-bold text-white text-center mb-8 border-b border-gray-700 pb-4",children:"Change Password"}),d("form",{onSubmit:async a=>{var n;a.preventDefault(),l({});const p=f("access");if(!p){c.error("No access token found. Please log in again.");return}if(r.new_password1!==r.new_password2){l({new_password2:"Passwords do not match."});return}m(!0);try{await x.post("#",{new_password1:r.new_password1,new_password2:r.new_password2},{headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}}),c.success("Password changed successfully!"),g({new_password1:"",new_password2:""})}catch(b){if((n=b.response)!=null&&n.data){const i={},o=b.response.data;for(const t in o)Array.isArray(o[t])?i[t]=o[t][0]:typeof o[t]=="string"&&(i[t]=o[t]);Object.keys(i).length===0&&o.detail?c.error(o.detail):l(i)}else c.error("Something went wrong. Please try again.")}finally{m(!1)}},className:"space-y-6",children:[d("div",{children:[e("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),e("input",{type:"password",name:"new_password1",value:r.new_password1,onChange:h,placeholder:"Enter new password",className:`w-full p-3 rounded-lg bg-gray-800 border focus:outline-none focus:ring-2 focus:ring-indigo-500 text-white placeholder-gray-400 ${s.new_password1?"border-red-500 focus:ring-red-400":"border-gray-600"}`,required:!0}),s.new_password1&&e("p",{className:"text-red-500 text-sm mt-1",children:s.new_password1})]}),d("div",{children:[e("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),e("input",{type:"password",name:"new_password2",value:r.new_password2,onChange:h,placeholder:"Re-enter new password",className:`w-full p-3 rounded-lg bg-gray-800 border focus:outline-none focus:ring-2 focus:ring-indigo-500 text-white placeholder-gray-400 ${s.new_password2?"border-red-500 focus:ring-red-400":"border-gray-600"}`,required:!0}),s.new_password2&&e("p",{className:"text-red-500 text-sm mt-1",children:s.new_password2})]}),e("div",{className:"text-center",children:e("button",{type:"submit",disabled:w,className:`w-full py-3 rounded-xl text-white font-semibold text-lg transition-colors duration-200 ${w?"bg-indigo-400 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600"}`,children:w?"Updating...":"Change Password"})})]})]})}),e(N,{})]})};export{S as default};
