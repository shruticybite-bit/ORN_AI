import{i as z,r as l,j as n,a as t,k as H,b as A,y}from"./index-4f69de9b.js";import{N as q,F as U}from"./Footer-0219da3f.js";import{C as W}from"./check-888c02f6.js";import"./createLucideIcon-d8510d22.js";const C="#",D=()=>{z();const[K,_]=l.useState([]),[c,x]=l.useState("hourly"),[T,b]=l.useState([]),[M,w]=l.useState(!1),[v,Q]=l.useState(null),[F,V]=l.useState(!1),[X,j]=l.useState([]),[N,$]=l.useState(()=>{try{const e=localStorage.getItem("orl_cart");return e?JSON.parse(e):[]}catch{return[]}}),I=l.useRef(null),m=e=>{if(typeof document>"u")return"";const r=`; ${document.cookie}`.split(`; ${e}=`);return r.length===2?r.pop().split(";").shift():""},S=m("user_id");let f=m("access")||m("jwt-auth")||localStorage.getItem("jwt-auth")||localStorage.getItem("token")||"";f=f.replace("Bearer ","").trim();const d=f;m("username"),m("email");const[h,B]=l.useState([]);l.useEffect(()=>{(async()=>{try{const a=await A.get(`${C}/packages/`,{headers:d?{Authorization:`Bearer ${d}`}:{}});if(a.data&&Array.isArray(a.data)){B(a.data);const r=[...new Set(a.data.map(i=>i.billing_cycle.toLowerCase()))];_(r),r.length>0&&x(r[0])}}catch(a){console.error("Failed to fetch packages",a)}})()},[]);const E=async(e="")=>{w(!0);try{const a=Array.isArray(h)?h:[],r=e?a.filter(s=>s.billing_cycle.toLowerCase()===e.toLowerCase()):a,i={};r.forEach(s=>{var P;const g=(s.name||"").split("-"),u=((P=g[0])==null?void 0:P.trim())||s.name,Y=g.slice(1).join("-").trim(),G=(s.description||"").split(";").map(J=>J.trim());i[u]||(i[u]={name:u,subtitle:Y,description:G,monthlyPrice:null,monthlyPackageId:null,yearlyPrice:null,yearlyPackageId:null,payAsYouGo:{hourlyRate:null,packageId:null},free:{available:!1,duration:""},freeFeatures:["Limited Access for Trial"],paidFeatures:["Full Access","SSH","Support"],subscription:s.subscription||null,planId:null,newdescription:s.description});const o=i[u],p=(s.billing_cycle||"").toLowerCase();p==="monthly"&&(o.monthlyPrice=s.price,o.monthlyPackageId=s.package_id),p==="yearly"&&(o.yearlyPrice=s.price,o.yearlyPackageId=s.package_id),(p==="hourly"||p==="hour")&&(o.payAsYouGo.hourlyRate=s.price,o.payAsYouGo.packageId=s.package_id,o.free.available=!0,o.free.duration=s.free_trial_duration||"Free Trial"),o.planId=o.monthlyPackageId||o.yearlyPackageId||o.payAsYouGo.packageId}),b(Object.values(i))}catch(a){console.error(a),b([])}finally{w(!1)}};l.useEffect(()=>{c&&h.length>0&&E(c)},[c,h]);const O=e=>c==="free"?e.billing_cycle:e.paidFeatures,k=async()=>{if(!(!d||!S))try{let a=(await A.get(`${C}/lab/userinst/${S}/`,{headers:{Authorization:`Bearer ${d}`}})).data||[];a.sort((r,i)=>r.status==="Launched"&&i.status!=="Launched"?-1:i.status==="Launched"&&r.status!=="Launched"?1:0),j(a)}catch(e){console.error(e)}};l.useEffect(()=>{if(!d)return;k();const e=setInterval(k,3e4);return()=>clearInterval(e)},[d]);const R=async e=>{if(e){if(!d){console.log("ad=",e),await L(e,c);return}await L(e,c)}},L=(e,a)=>{if(!e)return;const r=JSON.parse(localStorage.getItem("orl_cart")||"[]");if(r.length>0){y.info("You can select only one plan at a time",{autoClose:2e3});return}console.log("lab=",e);const i=e.subscription!=null?e.subscription:"",s=a==="monthly"?e.monthlyPrice:a==="yearly"?e.yearlyPrice??e.monthlyPrice:0;if(r.find(u=>u.planId===e.planId&&u.billingType===a)){y.info("Already in cart",{autoClose:2e3});return}r.push({...e,billingType:a,price:s,subscription:i}),localStorage.setItem("orl_cart",JSON.stringify(r)),$(r),y.success("Added to cart",{autoClose:2e3}),setTimeout(()=>window.location.reload(),2500)};return l.useEffect(()=>{try{localStorage.setItem("orl_cart",JSON.stringify(N))}catch{}},[N]),l.useEffect(()=>()=>{I.current&&clearInterval(I.current)},[]),n("div",{id:"courses",className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 py-24 px-6",children:[t(H,{}),F&&t("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:n("div",{className:"bg-gradient-to-r from-purple-400 to-blue-300 bg-clip-text text-transparent p-8 rounded-xl flex flex-col items-center",children:[t("div",{className:"loader mb-4"}),t("p",{className:"font-semibold text-gray-800",children:"Launching your lab, please wait..."})]})}),t("style",{children:`
        .loader {
          border: 4px solid rgba(255, 255, 255, 0.2);
          border-top: 4px solid #8b5cf6;
          border-right: 4px solid #3b82f6;
          border-radius: 50%;
          width: 40px;
          height: 40px;
          animation: spin 1s linear infinite;
          background: transparent;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }
      `}),n("div",{className:"max-w-7xl mx-auto",children:[n("div",{className:"text-center mb-16",children:[t("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight bg-gradient-to-r from-purple-400 to-blue-300 bg-clip-text text-transparent mb-4",children:"Simple pricing. No surprise fees."}),t("p",{className:"text-gray-400 mt-6 text-xl max-w-2xl mx-auto",children:"Choose the perfect lab for your learning journey and start practicing today"})]}),t("div",{className:"flex justify-center mb-12",children:t("div",{className:"inline-flex items-center bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-1",children:["hourly","monthly","yearly"].map(e=>t("button",{onClick:()=>x(e),className:`px-6 py-2.5 rounded-lg text-sm font-semibold transition-all duration-300 ${c===e?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:T.map((e,a)=>t("div",{className:"relative group transition-all duration-500 hover:-translate-y-2",children:t("div",{className:`relative h-full bg-white/5 backdrop-blur-sm border rounded-2xl overflow-hidden transition-all duration-300 ${e.popular?"border-purple-500/50 shadow-2xl shadow-purple-500/20":"border-white/10 hover:border-purple-500/30"}`,children:n("div",{className:"relative p-8",children:[n("div",{className:"mb-8",children:[t("h3",{className:"text-3xl font-bold text-white mb-2",children:e.name}),t("p",{className:"text-purple-300 text-sm font-medium",children:e.newdescription})]}),n("div",{className:"mb-8",children:[c==="monthly"&&n("div",{className:"flex items-baseline gap-2 mb-2",children:[n("span",{className:"text-3xl font-bold text-white",children:["₹",e.monthlyPrice]}),t("span",{className:"text-gray-400 text-lg",children:"/month"})]}),c==="yearly"&&n("div",{className:"flex items-baseline gap-2 mb-2",children:[n("span",{className:"text-3xl font-bold text-white",children:["₹",e.yearlyPrice]}),t("span",{className:"text-gray-400 text-lg",children:"/year"})]})]}),n("div",{className:"mb-8",children:[t("p",{className:"text-gray-400 font-medium mb-4 text-sm uppercase tracking-wider",children:"What's included"}),t("ul",{className:"space-y-3",children:O(e).map((r,i)=>n("li",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[t(W,{className:"w-4 h-4 text-green-400"}),r]},i))})]}),t("div",{className:"flex flex-col gap-3",children:t("button",{className:"w-full py-4 px-6 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg shadow-purple-500/30 hover:shadow-xl hover:shadow-purple-500/40",onClick:()=>R(e),disabled:v===e.planId,children:c==="hourly"?v===e.planId?"Launching...":"Start Free Trial":"Subscribe"})})]})})},a))})]})]})},re=()=>n("div",{style:{minHeight:"100vh",background:"#140f1c"},children:[t(q,{}),t(D,{}),t(U,{})]});export{re as default};
