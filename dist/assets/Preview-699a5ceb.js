import{c as v,w as f,r,s as x,b as N,a as e,j as i,L as u,t as b}from"./index-4f69de9b.js";import{I as w}from"./IconSend-581bb3d5.js";import{I as p}from"./IconPrinter-10597365.js";import{I as g}from"./IconDownload-891e4e90.js";const j=()=>{var d;const n=v(),{id:c}=f(),[t,m]=r.useState(null);r.useEffect(()=>{n(x("Invoice Preview")),c&&N.get(`https://cybitbackend.onrender.com/api/invoices/${c}`).then(l=>{l.data.success&&l.data.invoice&&m(l.data.invoice)}).catch(l=>console.error("Failed to fetch invoice",l))},[n,c]);const h=()=>{window.print()};if(!t)return e("div",{children:"Loading..."});const a=(d=t.items)==null?void 0:d.reduce((l,s)=>l+s.amount*s.quantity,0),o=a+a*t.tax/100+t.shippingCharge-a*t.discount/100;return i("div",{children:[i("div",{className:"flex items-center lg:justify-end justify-center flex-wrap gap-4 mb-6",children:[i("button",{type:"button",className:"btn btn-info gap-2",children:[e(w,{})," Send Invoice"]}),i("button",{type:"button",className:"btn btn-primary gap-2",onClick:h,children:[e(p,{})," Print"]}),i("button",{type:"button",className:"btn btn-success gap-2",children:[e(g,{})," Download"]}),i(u,{to:`/apps/invoice/edit/${t._id}`,className:"btn btn-warning gap-2",children:[e(b,{})," Edit"]})]}),i("div",{className:"panel",children:[i("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[e("div",{className:"text-2xl font-semibold uppercase",children:"Invoice"}),e("div",{className:"shrink-0",children:e("img",{src:"/assets/images/logo.svg",alt:"img",className:"w-14 ltr:ml-auto rtl:mr-auto"})})]}),e("div",{className:"ltr:text-right rtl:text-left px-4",children:i("div",{className:"space-y-1 mt-6 text-white-dark",children:[e("div",{children:"13 Tetrick Road, Cypress Gardens, Florida, 33884, US"}),e("div",{children:"vristo@gmail.com"}),e("div",{children:"+1 (070) 123-4567"})]})}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),i("div",{className:"flex justify-between lg:flex-row flex-col gap-6 flex-wrap px-4",children:[e("div",{className:"flex-1",children:i("div",{className:"space-y-1 text-white-dark",children:[e("div",{children:"Issue For:"}),e("div",{className:"text-black dark:text-white font-semibold",children:t.billing.name}),e("div",{children:t.billing.address}),e("div",{children:t.billing.email}),e("div",{children:t.billing.phone})]})}),i("div",{className:"flex justify-between sm:flex-row flex-col gap-6 lg:w-2/3",children:[i("div",{className:"xl:1/3 lg:w-2/5 sm:w-1/2",children:[i("div",{className:"flex items-center w-full justify-between mb-2",children:[e("div",{className:"text-white-dark",children:"Invoice :"}),i("div",{children:["#",t.invoiceNumber]})]}),i("div",{className:"flex items-center w-full justify-between mb-2",children:[e("div",{className:"text-white-dark",children:"Issue Date :"}),e("div",{children:new Date(t.invoiceDate).toLocaleDateString()})]}),i("div",{className:"flex items-center w-full justify-between mb-2",children:[e("div",{className:"text-white-dark",children:"Due Date :"}),e("div",{children:new Date(t.dueDate).toLocaleDateString()})]})]}),i("div",{className:"xl:1/3 lg:w-2/5 sm:w-1/2",children:[i("div",{className:"flex items-center w-full justify-between mb-2",children:[e("div",{className:"text-white-dark",children:"Bank Name:"}),e("div",{className:"whitespace-nowrap",children:t.paymentDetails.bankName})]}),i("div",{className:"flex items-center w-full justify-between mb-2",children:[e("div",{className:"text-white-dark",children:"Account Number:"}),e("div",{children:t.paymentDetails.accountNumber})]}),i("div",{className:"flex items-center w-full justify-between mb-2",children:[e("div",{className:"text-white-dark",children:"SWIFT Code:"}),e("div",{children:t.paymentDetails.swiftNumber||"-"})]}),i("div",{className:"flex items-center w-full justify-between mb-2",children:[e("div",{className:"text-white-dark",children:"IBAN:"}),e("div",{children:t.paymentDetails.ibanNumber||"-"})]}),i("div",{className:"flex items-center w-full justify-between mb-2",children:[e("div",{className:"text-white-dark",children:"Country:"}),e("div",{children:t.paymentDetails.country||"-"})]})]})]})]}),e("div",{className:"table-responsive mt-6 px-4",children:i("table",{className:"table-striped w-full",children:[e("thead",{children:i("tr",{children:[e("th",{children:"S.NO"}),e("th",{children:"ITEMS"}),e("th",{children:"QTY"}),e("th",{className:"ltr:text-right rtl:text-left",children:"PRICE"}),e("th",{className:"ltr:text-right rtl:text-left",children:"AMOUNT"})]})}),e("tbody",{children:t.items.map((l,s)=>i("tr",{children:[e("td",{children:s+1}),e("td",{children:l.title||"-"}),e("td",{children:l.quantity}),i("td",{className:"ltr:text-right rtl:text-left",children:["$",l.amount]}),i("td",{className:"ltr:text-right rtl:text-left",children:["$",l.amount*l.quantity]})]},l._id))})]})}),i("div",{className:"grid sm:grid-cols-2 grid-cols-1 px-4 mt-6",children:[e("div",{}),i("div",{className:"ltr:text-right rtl:text-left space-y-2",children:[i("div",{className:"flex items-center",children:[e("div",{className:"flex-1",children:"Subtotal"}),i("div",{className:"w-[37%]",children:["$",a]})]}),i("div",{className:"flex items-center",children:[e("div",{className:"flex-1",children:"Tax"}),i("div",{className:"w-[37%]",children:["$",a*t.tax/100]})]}),i("div",{className:"flex items-center",children:[e("div",{className:"flex-1",children:"Shipping Rate"}),i("div",{className:"w-[37%]",children:["$",t.shippingCharge]})]}),i("div",{className:"flex items-center",children:[e("div",{className:"flex-1",children:"Discount"}),i("div",{className:"w-[37%]",children:["$",a*t.discount/100]})]}),i("div",{className:"flex items-center font-semibold text-lg",children:[e("div",{className:"flex-1",children:"Grand Total"}),i("div",{className:"w-[37%]",children:["$",o]})]})]})]})]})]})};export{j as default};
