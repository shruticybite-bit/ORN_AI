import{r as c,u as k,j as r,a as e,L as y,D as N}from"./index-32628024.js";import{_ as w}from"./react-apexcharts.min-bba23681.js";import{I as C}from"./IconHorizontalDots-5c4036e2.js";const P=({userId:h})=>{const[u,i]=c.useState(!0),[I,m]=c.useState([0,0]),[n,p]=c.useState({series:[{name:"Revenue",data:[0,0]}],options:{chart:{id:"revenue-chart"},xaxis:{categories:["Payments","Instances"]}}});k(s=>s.themeConfig.theme==="dark"||s.themeConfig.isDarkMode);const g=s=>{var l;const o=`; ${document.cookie}`.split(`; ${s}=`);if(o.length===2)return(l=o.pop())==null?void 0:l.split(";").shift()},b=JSON.parse(localStorage.getItem("userId")||"{}");console.log("user=",b);const d=g("access"),f=["rgba(52,152,219,0.7)","rgba(46,204,113,0.7)","rgba(231,76,60,0.7)","rgba(155,89,182,0.7)","rgba(241,196,15,0.7)","rgba(230,126,34,0.7)"],x=[{url:"#",name:"Users"},{url:"#",name:"Support"},{url:"#",name:"Payments"},{url:"#",name:"Instances"},{url:"#",name:"Feedback"},{url:"#",name:"Contact"}];return c.useEffect(()=>{(async()=>{i(!0);try{const t=await Promise.all(x.map(async a=>{const v=await(await fetch(a.url,{headers:{Authorization:"Bearer "+d}})).json();return{name:a.name,count:v.count??0}}));m(t);const o=t.map(a=>a.name),l=t.map(a=>a.count);p({...n,series:[{name:"Total Count",data:l}],options:{...n.options,xaxis:{categories:o},colors:f}})}catch(t){console.error(t)}finally{i(!1)}})()},[h,d]),r("div",{children:[e("ul",{className:"flex space-x-2 rtl:space-x-reverse",children:e("li",{children:e(y,{to:"/",className:"text-primary hover:underline",children:"Dashboard"})})}),r("div",{className:"pt-5",children:[e("div",{className:"grid xl:grid-cols-3 gap-6 mb-6",children:r("div",{className:"panel h-full xl:col-span-2",children:[r("div",{className:"flex items-center justify-between dark:text-white-light mb-5",children:[e("h5",{className:"font-semibold text-lg"}),e("div",{className:"dropdown",children:e(N,{offset:[0,1],placement:"bottom-end",button:e(C,{className:"text-black/70 dark:text-white/70 hover:!text-primary"}),children:r("ul",{children:[e("li",{children:e("button",{type:"button",children:"Weekly"})}),e("li",{children:e("button",{type:"button",children:"Monthly"})}),e("li",{children:e("button",{type:"button",children:"Yearly"})})]})})})]}),e("div",{className:"relative",children:e("div",{className:"bg-white dark:bg-black rounded-lg overflow-hidden",children:u?e("div",{className:"min-h-[325px] grid place-content-center bg-white-light/30 dark:bg-dark dark:bg-opacity-[0.08] ",children:e("span",{className:"animate-spin border-2 border-black dark:border-white !border-l-transparent  rounded-full w-5 h-5 inline-flex"})}):e(w,{series:n.series,options:n.options,type:"area",height:325})})})]})}),e("div",{className:"grid sm:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",children:e("div",{className:"panel h-full p-0"})})]})]})};export{P as default};
